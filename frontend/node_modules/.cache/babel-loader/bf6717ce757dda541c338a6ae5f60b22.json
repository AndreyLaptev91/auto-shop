{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\auto-shop\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport Header from \"./Header\";\nimport Products from \"./Products\";\nimport Contacts from \"./Contacts\";\nimport Basket from \"./Basket\";\nimport Navbar from \"./Navbar\";\nimport Search from \"./Search\";\nimport Main from \"./Main\";\nimport Filter from \"./Filter\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { Row, Col, Container } from \"react-bootstrap\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeSort = e => {\n      this.setState({\n        sort: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleChangeType = e => {\n      this.setState({\n        type: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleOnInputChange = e => {\n      this.setState({\n        inputSearch: e.target.value\n      });\n      this.listProducts();\n    };\n\n    this.handleShowCart = e => {\n      this.setState({\n        showCart: !this.state.showCart\n      });\n    };\n\n    this.handleAddToCart = (e, product) => {\n      this.setState(state => {\n        const cartItems = state.cartItems;\n        let productAlreadyInCart = false;\n        cartItems.forEach(item => {\n          if (item.id === product.id) {\n            productAlreadyInCart = true;\n            item.count++;\n          }\n        });\n\n        if (!productAlreadyInCart) {\n          cartItems.push({ ...product,\n            count: 1\n          });\n        }\n\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        return cartItems;\n      });\n    };\n\n    this.handleRemoveFromCart = (e, item) => {\n      this.setState(state => {\n        const cartItems = state.cartItems.filter(a => a.id !== item.id);\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        return {\n          cartItems\n        };\n      });\n    };\n\n    this.listProducts = () => {\n      this.setState(state => {\n        if (state.sort !== \"\") {\n          state.products.sort((a, b) => state.sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price < b.price ? 1 : -1);\n        } else {\n          state.products.sort((a, b) => a.id > b.id ? 1 : -1);\n        }\n\n        if (state.type !== \"\" && state.inputSearch !== \"\") {\n          return {\n            filteredProducts: state.products.filter(a => a.type.indexOf(state.type) >= 0 && a.name.toLowerCase().indexOf(state.inputSearch) >= 0)\n          };\n        } else if (state.type !== \"\") {\n          return {\n            filteredProducts: state.products.filter(a => a.type.indexOf(state.type) >= 0)\n          };\n        } else if (state.inputSearch !== \"\") {\n          return {\n            filteredProducts: state.products.filter(a => a.name.toLowerCase().indexOf(state.inputSearch) >= 0)\n          };\n        }\n\n        return {\n          filteredProducts: state.products\n        };\n      });\n    };\n\n    this.state = {\n      products: [],\n      filteredProducts: [],\n      sort: \"\",\n      type: \"\",\n      inputSearch: \"\",\n      cartItems: [],\n      showCart: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/products\").then(res => res.json()).then(data => this.setState({\n      products: data,\n      filteredProducts: data\n    }));\n\n    if (localStorage.getItem(\"cartItems\")) {\n      this.setState({\n        cartItems: JSON.parse(localStorage.getItem(\"cartItems\"))\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navbar, {\n        showCart: this.state.showCart,\n        handleShowCart: this.handleShowCart,\n        cartItems: this.state.cartItems,\n        handleRemoveFromCart: this.handleRemoveFromCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Main, {\n        component: Main\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Contacts, {\n        component: Contacts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        products: this.state.filteredProducts,\n        handleAddToCart: this.handleAddToCart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        inputSearch: this.state.inputSearch,\n        handleOnInputChange: this.handleOnInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Filter, {\n        type: this.state.type,\n        sort: this.state.sort,\n        handleChangeType: this.handleChangeType,\n        handleChangeSort: this.handleChangeSort,\n        count: this.state.filteredProducts.length\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/auto-shop/frontend/src/App.js"],"names":["React","Component","Header","Products","Contacts","Basket","Navbar","Search","Main","Filter","BrowserRouter","Route","Row","Col","Container","App","constructor","props","handleChangeSort","e","setState","sort","target","value","listProducts","handleChangeType","type","handleOnInputChange","inputSearch","handleShowCart","showCart","state","handleAddToCart","product","cartItems","productAlreadyInCart","forEach","item","id","count","push","localStorage","setItem","JSON","stringify","handleRemoveFromCart","filter","a","products","b","price","filteredProducts","indexOf","name","toLowerCase","componentDidMount","fetch","then","res","json","data","getItem","parse","render","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./Header\";\nimport Products from \"./Products\";\nimport Contacts from \"./Contacts\";\nimport Basket from \"./Basket\";\nimport Navbar from \"./Navbar\";\nimport Search from \"./Search\";\nimport Main from \"./Main\";\nimport Filter from \"./Filter\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { Row, Col, Container } from \"react-bootstrap\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      products: [],\n      filteredProducts: [],\n      sort: \"\",\n      type: \"\",\n      inputSearch: \"\",\n      cartItems: [],\n      showCart: false,\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"/products\")\n      .then((res) => res.json())\n      .then((data) =>\n        this.setState({\n          products: data,\n          filteredProducts: data,\n        })\n      );\n\n    if (localStorage.getItem(\"cartItems\")) {\n      this.setState({\n        cartItems: JSON.parse(localStorage.getItem(\"cartItems\")),\n      });\n    }\n  }\n\n  handleChangeSort = (e) => {\n    this.setState({ sort: e.target.value });\n    this.listProducts();\n  };\n\n  handleChangeType = (e) => {\n    this.setState({ type: e.target.value });\n    this.listProducts();\n  };\n\n  handleOnInputChange = (e) => {\n    this.setState({ inputSearch: e.target.value });\n    this.listProducts();\n  };\n\n  handleShowCart = (e) => {\n    this.setState({ showCart: !this.state.showCart });\n  };\n\n  handleAddToCart = (e, product) => {\n    this.setState((state) => {\n      const cartItems = state.cartItems;\n      let productAlreadyInCart = false;\n\n      cartItems.forEach((item) => {\n        if (item.id === product.id) {\n          productAlreadyInCart = true;\n          item.count++;\n        }\n      });\n      if (!productAlreadyInCart) {\n        cartItems.push({ ...product, count: 1 });\n      }\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n\n      return cartItems;\n    });\n  };\n\n  handleRemoveFromCart = (e, item) => {\n    this.setState((state) => {\n      const cartItems = state.cartItems.filter((a) => a.id !== item.id);\n      localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n      return { cartItems };\n    });\n  };\n\n  listProducts = () => {\n    this.setState((state) => {\n      if (state.sort !== \"\") {\n        state.products.sort((a, b) =>\n          state.sort === \"lowest\"\n            ? a.price > b.price\n              ? 1\n              : -1\n            : a.price < b.price\n            ? 1\n            : -1\n        );\n      } else {\n        state.products.sort((a, b) => (a.id > b.id ? 1 : -1));\n      }\n\n      if (state.type !== \"\" && state.inputSearch !== \"\") {\n        return {\n          filteredProducts: state.products.filter(\n            (a) =>\n              a.type.indexOf(state.type) >= 0 &&\n              a.name.toLowerCase().indexOf(state.inputSearch) >= 0\n          ),\n        };\n      } else if (state.type !== \"\") {\n        return {\n          filteredProducts: state.products.filter(\n            (a) => a.type.indexOf(state.type) >= 0\n          ),\n        };\n      } else if (state.inputSearch !== \"\") {\n        return {\n          filteredProducts: state.products.filter(\n            (a) => a.name.toLowerCase().indexOf(state.inputSearch) >= 0\n          ),\n        };\n      }\n\n      return { filteredProducts: state.products };\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Header />\n\n        <Navbar\n          showCart={this.state.showCart}\n          handleShowCart={this.handleShowCart}\n          cartItems={this.state.cartItems}\n          handleRemoveFromCart={this.handleRemoveFromCart}\n        />\n\n        <Main component={Main} />\n\n        <Contacts component={Contacts} />\n\n        <Products\n          products={this.state.filteredProducts}\n          handleAddToCart={this.handleAddToCart}\n        />\n\n        <Search\n          inputSearch={this.state.inputSearch}\n          handleOnInputChange={this.handleOnInputChange}\n        />\n\n        <Filter\n          type={this.state.type}\n          sort={this.state.sort}\n          handleChangeType={this.handleChangeType}\n          handleChangeSort={this.handleChangeSort}\n          count={this.state.filteredProducts.length}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}